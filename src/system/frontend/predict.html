<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="styles/predict.css" type="text/css" rel="stylesheet" />
</head>

<body onload="drawAnimation()">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.1/dist/echarts.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>

    <section id="headerSection">
        <div id="inputDiv">
            <form id="steelInfoForm" style="margin: 10px;" @submit="checkForm"
                action="javascript:submitCastingPriorInfo(this)" method="post">
                <table style="border-spacing: 10px;">
                    <tr>
                        <td><span>{{steelType}}：</span></td>
                        <td><input id="steelTypeInput"></input></td>
                        <td><span>{{billetWidth}}：</span></td>
                        <td><input id="billetWidthInput"></input></td>
                        <td><span>{{billetThickness}}：</span></td>
                        <td><input id="billetThicknessInput"></input></td>
                        <td><input type="submit" v-bind:value="predictButton"></input></td>
                        <td rowspan="2"><button>播放</button></td>
                    </tr>
                    <tr>
                        <td><span>{{castingWidth}}：</span></td>
                        <td><input id="castingWidthInput"></input></td>
                        <td><span>{{mode}}：</span></td>
                        <td><input id="modeInput"></input></td>
                        <td><span>{{targetLV}}：</span></td>
                        <td><input id="targetLVInput"></input></td>
                    </tr>
                    <tr><td><input id="openFileInput" type="file" onchange="javascript:openFile(this)"></input></td><td><button onclick="javascript:openFile()">打开</button></td></tr>
                </table>
            </form>
        </div>
        <button onclick="javascript:openFile()">打开</button>
    </section>
    <section id="animationSection">
        <div id="animationDiv">
            <canvas id="animationCanvas" v-bind:height="canvasHeight" v-bind:width="canvasWidth"></canvas>
        </div>
    </section>
    <section id="chartSection">
        <div id="echartDiv"></div>
        <div id="tabDiv">
            <table>
                <tr id="tabRow">
                    <!-- <button>sdfsdf</button><button>sdfsdf</button><button>sdfsdf</button> -->
                </tr>
            </table>
        </div>
    </section>
    <!-- <section id="charSection"></section>
    <section id="mainSection">
        <div id="animationDiv"></div>
        <div id="chartDiv"></div>
    </section> -->
    <script src="src/predictView.js"></script>
    <script src="src/animationView.js"></script>
    <script src="src/lib/webgl-utils.js"></script>
    <script src="src/lib/webgl-debug.js"></script>
    <script src="src/lib/cuon-utils.js"></script>
    <script src="src/lib/cuon-matrix.js"></script>
    <script type="text/javascript">
        var myChart = null;
        function generatingCastingChart(data, title) {
            

            myChart = echarts.init(document.getElementById('echartDiv'));

            var option = {
                xAxis: {
                    type: 'category',
                    data: data.times
                },
                yAxis: {
                    type: 'value',
                    min: -2
                },
                series: [
                    {
                        data: data.values,
                        type: 'line'
                    }
                ]
            };
            
            myChart.setOption(option)

            _animationStarted = true;
        }

        window.onresize = function () {
            if (myChart != null) {
                myChart.resize();
            }
            var canvas = document.getElementById('animationCanvas');
            var canvasDiv = document.getElementById('animationDiv');
            // canvas.Height = canvasDiv.Height;
            //startAnimation()

            canvas.height = canvasDiv.clientHeight;
            canvas.width = canvasDiv.clientWidth;
        }
        
        function openFile()
        {
            var openFileInput = document.getElementById('openFileInput');
            var filePath = openFileInput.value;
            console.log("fuckcukl")
            intsdf = input;

            submitCastingPriorInfo(null);
        }
    </script>
</body>

</html>